// Q.JS  v1.3    By Malthe Laursen    mtsl.dk
function q(i,t){t=t||{},"object"==typeof i&&(t=i,i="");let s={index:0,input:i?i.trimLeft():"div"};var e=s.input.match(/[.#\[:"]/);let d=document.createElement(t.tag||(e?0===e.index?"div":s.input.substring(0,e.index):s.input.trim())),r=0;for(;r++<5e4;){5e4===r&&console.warn('Q.JS Stuck in loop with input: "'+i+'"');var l=s.input.substring(s.index).match(/[.#\[:"]/);if(!l)break;let e=s.input[s.index+l.index],t,n;switch(e){case"[":n=s.input.substring(s.index+l.index+1).match(/]/),t=s.input.substring(s.index+l.index+1).substring(0,n.index),n.index+=1;break;case'"':n=s.input.substring(s.index+l.index+1).match(/"/),t=s.input.substring(s.index+l.index+1).substring(0,n.index).replace(/\/(?!\/)/g,"").replace(/\\(?!\\)/g,""),n.index+=1;break;default:n=s.input.substring(s.index+l.index+1).match(/[.#\[:"]/),t=s.input.substring(s.index+l.index+1).substring(0,n?n.index:s.input.length)}if("."===e?d.classList.add(t):"#"===e?d.id=t:"["===e?(t=t.substring(0,t.length).split("="),d.setAttribute(t[0],t[1]||!0)):":"===e?d.setAttribute(t,""):'"'===e&&(d.innerText=t),!n)break;s.index+=l.index+n.index+1}if("object"==typeof t){let e=Object.assign({},t);delete e.style,delete e.css,delete e.children,delete e.c,delete e.text,delete e.content,delete e.innerText,delete e.html,delete e.innerHTML,(content=t.text||t.content||t.innerText)&&(d.innerText=content),(content=t.html||t.innerHTML)&&(d.innerHTML=content),Object.assign(d,e),(t.style||t.css)&&Object.assign(d.style,t.style||t.css);var n=t.children||t.c;if(n)for(let e=0;e<n.length;e++)d.appendChild(n[e])}return d}HTMLElement.prototype.q=function(e,t){t=q(e,t);return this.appendChild(t),t},HTMLElement.prototype.s=function(e,t){t=q(e,t);return this.parentElement.appendChild(t),t},HTMLElement.prototype.p=function(e,t){t=q(e,t);return this.parentElement.parentElement.appendChild(t),t};